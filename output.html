<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Experimental PB on Mechanical Turk | Knapsack_7</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
    <script nonce="undefined" src="https://cdn.zingchart.com/zingchart.min.js"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <style>
        /* Custom CSS to color the borders black */
        
        .border-black {
            border: 1px solid black;
        }
        
        .nested {
            padding: 1rem;
        }
        
        .wrapper {
            padding: 0rem;
        }
        
        .spacer {
            padding: 1rem;
        }
        
        .carousel-control-prev-icon,
        .carousel-control-next-icon {
            font-size: 24px;
            /* Adjust the size as needed */
            color: black;
            /* Adjust the color as needed */
        }
        
        .carousel-inner {
            padding: 1rem;
            padding-left: 7rem;
            padding-right: 7rem;
        }
        
        .carousel-inner-pie {
            padding-top: 0.5rem;
            height: 400px;
        }
        
        .hidden-section {
            display: none;
        }
        
        .chord-wrapper {
            height: 100%;
        }
        
        #myChordChart {
            height: 100%;
            width: 100%;
        }
        
        #myBarChart1,
        #myStackedBarChart1 {
            height: 100%;
            width: 100%;
        }
        /* zing-grid[loading] {
            height: 800px;
            width: 100%;
        } */
        
        h1,
        p {
            text-align: center;
        }
    </style>
</head>

<body>
    <div class="container my-4">
        <!-- General Explanations -->
        <div class="row mb-3">
            <div class="col-12  justify-content-center">
                <h1>
                    Experimental PB on Mechanical Turk | Knapsack_7
                </h1>
            </div>
        </div>

        <!-- Carousel for general graphs -->
        <div id="carouselExampleControls" class="carousel slide mb-3 border-black" data-ride="carousel" data-interval="false">
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <div class="d-block w-100 border-black justify-content-center" style="height:200px;">
                        <!-- Fix issue where extra comma appears on final item in list. -->
                        <p>
                            Summary statistics for the election - how many total votes, projects elected, and budget spent.<br>
                            
                                36:  votes,
                            
                                8:  votes,
                            
                                37:  votes,
                            
                                14:  votes,
                            
                                41:  votes,
                            
                                31:  votes,
                            
                                42:  votes,
                            
                                5:  votes,
                            
                                15:  votes,
                            
                                47:  votes,
                            
                                33:  votes,
                            
                                2:  votes,
                            
                                13:  votes,
                            
                                22:  votes,
                            
                                50:  votes,
                            
                                23:  votes,
                            
                                43:  votes,
                            
                                12:  votes,
                            
                                21:  votes,
                            
                                3:  votes,
                            
                            <br>

                            9 projects elected, 11 projects not elected.<br>

                            $1000 out of $500000 budget spent.<br>

                            
                                36: 
                            
                                8: 
                            
                                37: 
                            
                                14: 
                            
                                41: 
                            
                                31: 
                            
                                42: 
                            
                                5: 
                            
                                15: 
                            
                                47: 
                            
                                33: 
                            
                                2: 
                            
                                13: 
                            
                                22: 
                            
                                50: 
                            
                                23: 
                            
                                43: 
                            
                                12: 
                            
                                21: 
                            
                                3: 
                            
                            <br>

                        </p>
                    </div>
                </div>
                <div class="carousel-item">
                    <div class="d-block w-100 border-black" style="height:200px;">DIV 2</div>
                </div>
                <div class="carousel-item">
                    <div class="d-block w-100 border-black" style="height:200px;">DIV 3</div>
                </div>
            </div>
            <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                <span class="carousel-control-next-icon" aria-hidden="true">&lt;
            </span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true">&gt;
            </span>
                <span class="sr-only">Next</span>
            </a>
        </div>

        <!-- Round specific visualisations -->
         
            <section id="A" class="">
                  <!-- Effective Vote Count -->
                  <div class="row mb-3 ">
                     <div class="col-3"></div>

                     <div class="col-6" style="height: 300px;">
                        <div id="ABarChart" style="height: 100%; width: 100%;">

                        </div>

                     </div>
                     <div class="col-3"></div>

                  </div>

                  <!-- Sankey and Chord side by side -->
                  <div class="row" style="display: grid;">
                     <h5 style="text-align: center; font-weight: bold;">Project A Voter Flows</h5>
                  </div>
                  <div class="row">
                     <div class="col-5" style="display: grid;">
                        <div class="d-flex align-items-center justify-content-center">
                              <div id="ASankeyChart"></div>
                        </div>
                     </div>

                     <div class="col-2"></div>
                     <div class="col-5 chord-wrapper">
                        <div id='AChordChart'></div>

                     </div>
                  </div>
                  <div class="spacer"></div>

                  <!-- Pie Charts Carousels -->
                  <div id="secondCarousel" style="height: 500px;" class="carousel slide mb-3 border-black" data-ride="carousel" data-interval="false">
                     <div class="carousel-inner carousel-inner-pie" style="height: 500px;">

                        
                            
                            

                            
                                
                            

                            <div class="carousel-item active">
                                <div class="wrapper" style="height:300px">
                                    <div class="d-block w-100">
                                        <div class="row">

                                            <!-- Single Pie Chart Carousel -->
                                            
                                                <!-- Individual Pie Chart -->
                                                <div class="col-md-4 nested">
                                                    <div>
                                                        <div id='APieChart1-1'></div>
                                                    </div>
                                                    <div class="spacer"></div>
                                                    <div class="border-black ">
                                                        This resulted in a $12.32 reduction in the average funds available to the B voter
                                                    </div>
                                                </div>
                                            
                                                <!-- Individual Pie Chart -->
                                                <div class="col-md-4 nested">
                                                    <div>
                                                        <div id='APieChart1-2'></div>
                                                    </div>
                                                    <div class="spacer"></div>
                                                    <div class="border-black ">
                                                        This resulted in a $9.11 reduction in the average funds available to the B voter
                                                    </div>
                                                </div>
                                            
                                                <!-- Individual Pie Chart -->
                                                <div class="col-md-4 nested">
                                                    <div>
                                                        <div id='APieChart1-3'></div>
                                                    </div>
                                                    <div class="spacer"></div>
                                                    <div class="border-black ">
                                                        This resulted in a $3.23 reduction in the average funds available to the B voter
                                                    </div>
                                                </div>
                                            
                                        </div>
                                    </div>
                                </div>
                            </div>
                        
                            
                            

                            

                            <div class="carousel-item">
                                <div class="wrapper" style="height:300px">
                                    <div class="d-block w-100">
                                        <div class="row">

                                            <!-- Single Pie Chart Carousel -->
                                            
                                                <!-- Individual Pie Chart -->
                                                <div class="col-md-4 nested">
                                                    <div>
                                                        <div id='APieChart2-1'></div>
                                                    </div>
                                                    <div class="spacer"></div>
                                                    <div class="border-black ">
                                                        This resulted in a $1.0 reduction in the average funds available to the B voter
                                                    </div>
                                                </div>
                                            
                                        </div>
                                    </div>
                                </div>
                            </div>
                        

                        <!-- (OLD) dummy data for pie charts -->
                        
                     </div>

                     <a class="carousel-control-prev" href="#secondCarousel" role="button" data-slide="prev">
                        <span class="carousel-control-next-icon" aria-hidden="true">&lt;
                     </span>
                        <span class="sr-only">Previous</span>
                     </a>
                     <a class="carousel-control-next" href="#secondCarousel" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true">&gt;
                     </span>
                        <span class="sr-only">Next</span>
                     </a>
                  </div>

                  <!-- Reduced Effective Vote Count Graph (Centred Div) -->
                  <div class="row">
                     <div class="col-2">
                     </div>
                     <div class="col-8 container" style="height: 300px;">
                        <div id="AAfterRoundBarChart" style="height: 100%; width: 100%;"></div>
                     </div>
                     <div class="col-2">
                     </div>
                  </div>
            </section>
         
            <section id="B" class="hidden-section">
                  <!-- Effective Vote Count -->
                  <div class="row mb-3 ">
                     <div class="col-3"></div>

                     <div class="col-6" style="height: 300px;">
                        <div id="BBarChart" style="height: 100%; width: 100%;">

                        </div>

                     </div>
                     <div class="col-3"></div>

                  </div>

                  <!-- Sankey and Chord side by side -->
                  <div class="row" style="display: grid;">
                     <h5 style="text-align: center; font-weight: bold;">Project B Voter Flows</h5>
                  </div>
                  <div class="row">
                     <div class="col-5" style="display: grid;">
                        <div class="d-flex align-items-center justify-content-center">
                              <div id="BSankeyChart"></div>
                        </div>
                     </div>

                     <div class="col-2"></div>
                     <div class="col-5 chord-wrapper">
                        <div id='BChordChart'></div>

                     </div>
                  </div>
                  <div class="spacer"></div>

                  <!-- Pie Charts Carousels -->
                  <div id="secondCarousel" style="height: 500px;" class="carousel slide mb-3 border-black" data-ride="carousel" data-interval="false">
                     <div class="carousel-inner carousel-inner-pie" style="height: 500px;">

                        
                            
                            

                            
                                
                            

                            <div class="carousel-item active">
                                <div class="wrapper" style="height:300px">
                                    <div class="d-block w-100">
                                        <div class="row">

                                            <!-- Single Pie Chart Carousel -->
                                            
                                                <!-- Individual Pie Chart -->
                                                <div class="col-md-4 nested">
                                                    <div>
                                                        <div id='BPieChart1-1'></div>
                                                    </div>
                                                    <div class="spacer"></div>
                                                    <div class="border-black ">
                                                        This resulted in a $12.32 reduction in the average funds available to the B voter
                                                    </div>
                                                </div>
                                            
                                                <!-- Individual Pie Chart -->
                                                <div class="col-md-4 nested">
                                                    <div>
                                                        <div id='BPieChart1-2'></div>
                                                    </div>
                                                    <div class="spacer"></div>
                                                    <div class="border-black ">
                                                        This resulted in a $12.73 reduction in the average funds available to the B voter
                                                    </div>
                                                </div>
                                            
                                                <!-- Individual Pie Chart -->
                                                <div class="col-md-4 nested">
                                                    <div>
                                                        <div id='BPieChart1-3'></div>
                                                    </div>
                                                    <div class="spacer"></div>
                                                    <div class="border-black ">
                                                        This resulted in a $12.35 reduction in the average funds available to the B voter
                                                    </div>
                                                </div>
                                            
                                        </div>
                                    </div>
                                </div>
                            </div>
                        

                        <!-- (OLD) dummy data for pie charts -->
                        
                     </div>

                     <a class="carousel-control-prev" href="#secondCarousel" role="button" data-slide="prev">
                        <span class="carousel-control-next-icon" aria-hidden="true">&lt;
                     </span>
                        <span class="sr-only">Previous</span>
                     </a>
                     <a class="carousel-control-next" href="#secondCarousel" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true">&gt;
                     </span>
                        <span class="sr-only">Next</span>
                     </a>
                  </div>

                  <!-- Reduced Effective Vote Count Graph (Centred Div) -->
                  <div class="row">
                     <div class="col-2">
                     </div>
                     <div class="col-8 container" style="height: 300px;">
                        <div id="BAfterRoundBarChart" style="height: 100%; width: 100%;"></div>
                     </div>
                     <div class="col-2">
                     </div>
                  </div>
            </section>
         
            <section id="C" class="hidden-section">
                  <!-- Effective Vote Count -->
                  <div class="row mb-3 ">
                     <div class="col-3"></div>

                     <div class="col-6" style="height: 300px;">
                        <div id="CBarChart" style="height: 100%; width: 100%;">

                        </div>

                     </div>
                     <div class="col-3"></div>

                  </div>

                  <!-- Sankey and Chord side by side -->
                  <div class="row" style="display: grid;">
                     <h5 style="text-align: center; font-weight: bold;">Project C Voter Flows</h5>
                  </div>
                  <div class="row">
                     <div class="col-5" style="display: grid;">
                        <div class="d-flex align-items-center justify-content-center">
                              <div id="CSankeyChart"></div>
                        </div>
                     </div>

                     <div class="col-2"></div>
                     <div class="col-5 chord-wrapper">
                        <div id='CChordChart'></div>

                     </div>
                  </div>
                  <div class="spacer"></div>

                  <!-- Pie Charts Carousels -->
                  <div id="secondCarousel" style="height: 500px;" class="carousel slide mb-3 border-black" data-ride="carousel" data-interval="false">
                     <div class="carousel-inner carousel-inner-pie" style="height: 500px;">

                        
                            
                            

                            
                                
                            

                            <div class="carousel-item active">
                                <div class="wrapper" style="height:300px">
                                    <div class="d-block w-100">
                                        <div class="row">

                                            <!-- Single Pie Chart Carousel -->
                                            
                                                <!-- Individual Pie Chart -->
                                                <div class="col-md-4 nested">
                                                    <div>
                                                        <div id='CPieChart1-1'></div>
                                                    </div>
                                                    <div class="spacer"></div>
                                                    <div class="border-black ">
                                                        This resulted in a $1.25 reduction in the average funds available to the B voter
                                                    </div>
                                                </div>
                                            
                                                <!-- Individual Pie Chart -->
                                                <div class="col-md-4 nested">
                                                    <div>
                                                        <div id='CPieChart1-2'></div>
                                                    </div>
                                                    <div class="spacer"></div>
                                                    <div class="border-black ">
                                                        This resulted in a $9.45 reduction in the average funds available to the B voter
                                                    </div>
                                                </div>
                                            
                                        </div>
                                    </div>
                                </div>
                            </div>
                        

                        <!-- (OLD) dummy data for pie charts -->
                        
                     </div>

                     <a class="carousel-control-prev" href="#secondCarousel" role="button" data-slide="prev">
                        <span class="carousel-control-next-icon" aria-hidden="true">&lt;
                     </span>
                        <span class="sr-only">Previous</span>
                     </a>
                     <a class="carousel-control-next" href="#secondCarousel" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true">&gt;
                     </span>
                        <span class="sr-only">Next</span>
                     </a>
                  </div>

                  <!-- Reduced Effective Vote Count Graph (Centred Div) -->
                  <div class="row">
                     <div class="col-2">
                     </div>
                     <div class="col-8 container" style="height: 300px;">
                        <div id="CAfterRoundBarChart" style="height: 100%; width: 100%;"></div>
                     </div>
                     <div class="col-2">
                     </div>
                  </div>
            </section>
         
        
        <!-- Dropdown UI -->
        <div class="row my-4 justify-content-center">
            <div class="dropdown">
                <button class="btn btn-primary dropdown-toggle" type="button" id="projectDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  Project A
               </button>
                <div class="dropdown-menu" aria-labelledby="projectDropdown">
                  
                     <a class="dropdown-item active" item="A" onclick="onClickDropdown(this)">Project A</a>
                  
                     <a class="dropdown-item " item="B" onclick="onClickDropdown(this)">Project B</a>
                  
                     <a class="dropdown-item " item="C" onclick="onClickDropdown(this)">Project C</a>
                  
   
                </div>
            </div>
        </div>
    </div>
    <!-- Bootstrap JS and its dependencies -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

    <!-- Dropdown functionality -->
    <script>
        function onClickDropdown(element) {
            var dropdownItems = document.querySelectorAll('.dropdown-item');
            dropdownItems.forEach(item => item.classList.remove('active'));
            element.classList.add('active');
            document.getElementById('projectDropdown').innerText = element.innerText;

            // Show the corresponding section and hide others
            var sections = document.querySelectorAll('section');
            sections.forEach(section => section.style.display = 'none');
            document.getElementById(element.getAttribute("item")).style.display = 'block';
        }
    </script>
    
        <!-- Chord chart -->
        <script>
            //   ZC.LICENSE = ["569d52cefae586f634c54f86dc99e6a9", "b55b025e438fa8a98e32482b5f768ff5"];
            zingchart.render({
                  id: 'AChordChart',
                  data: {
                     "type": "chord",
                     // "title": {
                     //     "text": "Project Relationships",
                     //     "offset-y": -10
                     //     // "adjust-layout": true,
                     // },
                     "options": {
                        "radius": "80%"
                     },
                     "plotarea": {
                        "margin": "dynamic"
                     },
                     "series": [
                     
                        {"values":[
                        
                            10,
                        
                            7,
                        
                            23,
                        
                            3,
                        
                            10,
                        
                        ],
                        "text": "A"
                        },
                     
                        {"values":[
                        
                            7,
                        
                            21,
                        
                            3,
                        
                            9,
                        
                            11,
                        
                        ],
                        "text": "B"
                        },
                     
                        {"values":[
                        
                            3,
                        
                            1,
                        
                            2,
                        
                            4,
                        
                            1,
                        
                        ],
                        "text": "C"
                        },
                     
                        {"values":[
                        
                            5,
                        
                            3,
                        
                            3,
                        
                            5,
                        
                            10,
                        
                        ],
                        "text": "D"
                        },
                     
                        {"values":[
                        
                            1,
                        
                            1,
                        
                            1,
                        
                            1,
                        
                            1,
                        
                        ],
                        "text": "E"
                        },
                     
                      ]
                  },
                  height: "60%",
                  width: "100%",
               });
        </script>
        <!-- Effective vote count bar chart -->
        <script>
                //   ZC.LICENSE = ["569d52cefae586f634c54f86dc99e6a9", "b55b025e438fa8a98e32482b5f768ff5"];
               zingchart.render({
                  id: 'ABarChart',
                  data: {
                  "type": "hbar",
                  "title": {
                     "text": "Effective Vote Count (Winner: Project A)"
                  },
                  "scale-x": {
                    
                     "labels": ['A', 'B', 'C', 'D', 'E'], // Label that identifies each project in the round
                     "title": {
                        "text": "Project"
                     },
                     "item": { // Explicitly control the appearance of the scale labels
                        "font-size": 14, // Adjust font size as needed
                        "offset-x": 0, // Adjust to move the label left or right if needed
                        "offset-y": 0 // Adjust to move the label up or down if needed
                     }
                  },
                  "scale-y": {
                     "title": {
                        "text": "Number of Votes"
                     }
                  },
                  "series": [{
                     "values": [70, 60, 15, 30, 5], // Current votes values
                  }, ],
                  "plot": {
                     "animation": {
                        "effect": "ANIMATION_SLIDE_BOTTOM",
                        "sequence": "ANIMATION_BY_PLOT_AND_NODE",
                        "speed": 800
                     }
                  }
            },
                  height: '100%',
                  width: '100%'
            });
        </script>
        <!-- Effective vote count reduction bar chart -->
        <script>
            // ZC.LICENSE = ["569d52cefae586f634c54f86dc99e6a9", "b55b025e438fa8a98e32482b5f768ff5"];
            zingchart.render({
            id: 'AAfterRoundBarChart',
            data: {
            "type": "hbar",
            "stacked": true,
            "title": {
                "text": "Reduced Effective Vote Count  (Next Winner: Project B) ",
                "adjust-layout": true,
            },
            "legend": {
                "layout": "x4",
                "background-color": "none",
                "shadow": 0,
                "align": "center",
                "adjust-layout": true,
                "item": {
                    "font-color": "#333"
                },
                "marker": {
                    "type": "square",
                    "border-width": 0,
                    "size": 5
                },
                "toggle-action": "remove",
                "adjust-layout": true,
            },
            "plot": {
                "tooltip": {
                    "text": "%v votes"
                },
                "animation": {
                    "effect": "ANIMATION_SLIDE_BOTTOM",
                    "sequence": 1,
                    "speed": 1200
                }
            },
            "scale-x": {
                "labels": ['B', 'C', 'D', 'E'], // Label that identifies each project in the round
                "title": {
                    "text": "Projects"
                }
            },
            "scale-y": {
                "title": {
                    "text": "Votes"
                }
            },
            "series": [{
                "values":[ 
                    
                        60,
                    
                        15,
                    
                        30,
                    
                        5,
                    
                ], // Effective votes for next round
                "background-color": "#0070C0",
                "text": "Current Votes"
            }, {
                "values": [10, 1, 10, 1], // Effective votes lost this round
                "background-color": "#FF0000",
                "text": "Previous Votes"
            }]
        },
            height: '100%',
            width: '100%'
        });
        </script>

        <!-- Sankey diagram -->
        <script>
            // Render Sankey Diagrams
            google.charts.load('current', {
            'packages': ['sankey']
        });
            google.charts.setOnLoadCallback(() => {
                    var data = new google.visualization.DataTable();
                    data.addColumn('string', 'From');
                    data.addColumn('string', 'To');
                    data.addColumn('number', 'Weight');
                    
                    // Adding data from render.py

                    data.addRows([
                        
                            
                        
                            
                                ['A', 'B', 7],
                            
                        
                            
                                ['A', 'C', 23],
                            
                        
                            
                                ['A', 'D', 3],
                            
                        
                            
                                ['A', 'E', 10],
                            
                            
                    ])

                    // Sets chart options.
                    var options = {
                        title: 'Project Vote Sankey Diagram',
                        width: 445,
                        height: 280,
                        sankey: {}
                    };

                    // Instantiates and draws our chart, passing in some options.
                    var chart = new google.visualization.Sankey(document.getElementById('ASankeyChart'));
                    chart.draw(data, options);
            });
        </script>
        <!-- List of Pie Chart Carousels -->
        
            

            <!-- Pie Chart Carousel -->
            
                <!-- Pie Chart -->
                <script>
                    //   ZC.LICENSE = ["569d52cefae586f634c54f86dc99e6a9", "b55b025e438fa8a98e32482b5f768ff5"];
                    var myConfig = {
                        "type": "pie",
                        "title": {
                            "text": "Project B Voters"
                        },
                        "legend": {
                            "toggle-action": "remove",
                            "toggle-action": "remove",
                            "layout": "x2", // Arrange the legend items horizontally
                            "align": "center", // Align the legend items in the center
                            "vertical-align": "bottom",
                        },
                        "plot": {
                            "valueBox": {
                                "visible": true, // Make value labels visible
                                "type": 'all', // Show all value text including percentages and absolute values
                                "placement": 'in', // Position the valueBox outside of the slice
                                "text": "%v", // Display the absolute value
                                "fontSize": 10 // Adjust font size as needed
                            },
                            "animation": {
                                "effect": "ANIMATION_EXPAND_VERTICAL",
                                "sequence": "ANIMATION_BY_PLOT",
                                "speed": 500
                            }
                        },
                        "series": [{
                            "values": [10],
                            "text": "Project A Voters",
                        }, {
                            "values": [60],
                            "text": "Non Project A Voters",
                        }]
                    };

                    zingchart.render({
                        id: 'APieChart1-1',
                        data: myConfig,
                        height: 300,
                        width: "100%"
                    });
                </script>
            
                <!-- Pie Chart -->
                <script>
                    //   ZC.LICENSE = ["569d52cefae586f634c54f86dc99e6a9", "b55b025e438fa8a98e32482b5f768ff5"];
                    var myConfig = {
                        "type": "pie",
                        "title": {
                            "text": "Project C Voters"
                        },
                        "legend": {
                            "toggle-action": "remove",
                            "toggle-action": "remove",
                            "layout": "x2", // Arrange the legend items horizontally
                            "align": "center", // Align the legend items in the center
                            "vertical-align": "bottom",
                        },
                        "plot": {
                            "valueBox": {
                                "visible": true, // Make value labels visible
                                "type": 'all', // Show all value text including percentages and absolute values
                                "placement": 'in', // Position the valueBox outside of the slice
                                "text": "%v", // Display the absolute value
                                "fontSize": 10 // Adjust font size as needed
                            },
                            "animation": {
                                "effect": "ANIMATION_EXPAND_VERTICAL",
                                "sequence": "ANIMATION_BY_PLOT",
                                "speed": 500
                            }
                        },
                        "series": [{
                            "values": [0],
                            "text": "Project A Voters",
                        }, {
                            "values": [70],
                            "text": "Non Project A Voters",
                        }]
                    };

                    zingchart.render({
                        id: 'APieChart1-2',
                        data: myConfig,
                        height: 300,
                        width: "100%"
                    });
                </script>
            
                <!-- Pie Chart -->
                <script>
                    //   ZC.LICENSE = ["569d52cefae586f634c54f86dc99e6a9", "b55b025e438fa8a98e32482b5f768ff5"];
                    var myConfig = {
                        "type": "pie",
                        "title": {
                            "text": "Project D Voters"
                        },
                        "legend": {
                            "toggle-action": "remove",
                            "toggle-action": "remove",
                            "layout": "x2", // Arrange the legend items horizontally
                            "align": "center", // Align the legend items in the center
                            "vertical-align": "bottom",
                        },
                        "plot": {
                            "valueBox": {
                                "visible": true, // Make value labels visible
                                "type": 'all', // Show all value text including percentages and absolute values
                                "placement": 'in', // Position the valueBox outside of the slice
                                "text": "%v", // Display the absolute value
                                "fontSize": 10 // Adjust font size as needed
                            },
                            "animation": {
                                "effect": "ANIMATION_EXPAND_VERTICAL",
                                "sequence": "ANIMATION_BY_PLOT",
                                "speed": 500
                            }
                        },
                        "series": [{
                            "values": [35],
                            "text": "Project A Voters",
                        }, {
                            "values": [35],
                            "text": "Non Project A Voters",
                        }]
                    };

                    zingchart.render({
                        id: 'APieChart1-3',
                        data: myConfig,
                        height: 300,
                        width: "100%"
                    });
                </script>
            
        
            

            <!-- Pie Chart Carousel -->
            
                <!-- Pie Chart -->
                <script>
                    //   ZC.LICENSE = ["569d52cefae586f634c54f86dc99e6a9", "b55b025e438fa8a98e32482b5f768ff5"];
                    var myConfig = {
                        "type": "pie",
                        "title": {
                            "text": "Project E Voters"
                        },
                        "legend": {
                            "toggle-action": "remove",
                            "toggle-action": "remove",
                            "layout": "x2", // Arrange the legend items horizontally
                            "align": "center", // Align the legend items in the center
                            "vertical-align": "bottom",
                        },
                        "plot": {
                            "valueBox": {
                                "visible": true, // Make value labels visible
                                "type": 'all', // Show all value text including percentages and absolute values
                                "placement": 'in', // Position the valueBox outside of the slice
                                "text": "%v", // Display the absolute value
                                "fontSize": 10 // Adjust font size as needed
                            },
                            "animation": {
                                "effect": "ANIMATION_EXPAND_VERTICAL",
                                "sequence": "ANIMATION_BY_PLOT",
                                "speed": 500
                            }
                        },
                        "series": [{
                            "values": [40],
                            "text": "Project A Voters",
                        }, {
                            "values": [30],
                            "text": "Non Project A Voters",
                        }]
                    };

                    zingchart.render({
                        id: 'APieChart2-1',
                        data: myConfig,
                        height: 300,
                        width: "100%"
                    });
                </script>
            
        
    
        <!-- Chord chart -->
        <script>
            //   ZC.LICENSE = ["569d52cefae586f634c54f86dc99e6a9", "b55b025e438fa8a98e32482b5f768ff5"];
            zingchart.render({
                  id: 'BChordChart',
                  data: {
                     "type": "chord",
                     // "title": {
                     //     "text": "Project Relationships",
                     //     "offset-y": -10
                     //     // "adjust-layout": true,
                     // },
                     "options": {
                        "radius": "80%"
                     },
                     "plotarea": {
                        "margin": "dynamic"
                     },
                     "series": [
                     
                        {"values":[
                        
                            10,
                        
                            7,
                        
                            23,
                        
                            3,
                        
                            10,
                        
                        ],
                        "text": "A"
                        },
                     
                        {"values":[
                        
                            7,
                        
                            21,
                        
                            3,
                        
                            9,
                        
                            11,
                        
                        ],
                        "text": "B"
                        },
                     
                        {"values":[
                        
                            3,
                        
                            1,
                        
                            2,
                        
                            4,
                        
                            1,
                        
                        ],
                        "text": "C"
                        },
                     
                        {"values":[
                        
                            5,
                        
                            3,
                        
                            3,
                        
                            5,
                        
                            10,
                        
                        ],
                        "text": "D"
                        },
                     
                        {"values":[
                        
                            1,
                        
                            1,
                        
                            1,
                        
                            1,
                        
                            1,
                        
                        ],
                        "text": "E"
                        },
                     
                      ]
                  },
                  height: "60%",
                  width: "100%",
               });
        </script>
        <!-- Effective vote count bar chart -->
        <script>
                //   ZC.LICENSE = ["569d52cefae586f634c54f86dc99e6a9", "b55b025e438fa8a98e32482b5f768ff5"];
               zingchart.render({
                  id: 'BBarChart',
                  data: {
                  "type": "hbar",
                  "title": {
                     "text": "Effective Vote Count (Winner: Project B)"
                  },
                  "scale-x": {
                    
                     "labels": ['B', 'C', 'D', 'E'], // Label that identifies each project in the round
                     "title": {
                        "text": "Project"
                     },
                     "item": { // Explicitly control the appearance of the scale labels
                        "font-size": 14, // Adjust font size as needed
                        "offset-x": 0, // Adjust to move the label left or right if needed
                        "offset-y": 0 // Adjust to move the label up or down if needed
                     }
                  },
                  "scale-y": {
                     "title": {
                        "text": "Number of Votes"
                     }
                  },
                  "series": [{
                     "values": [50, 14, 20, 4], // Current votes values
                  }, ],
                  "plot": {
                     "animation": {
                        "effect": "ANIMATION_SLIDE_BOTTOM",
                        "sequence": "ANIMATION_BY_PLOT_AND_NODE",
                        "speed": 800
                     }
                  }
            },
                  height: '100%',
                  width: '100%'
            });
        </script>
        <!-- Effective vote count reduction bar chart -->
        <script>
            // ZC.LICENSE = ["569d52cefae586f634c54f86dc99e6a9", "b55b025e438fa8a98e32482b5f768ff5"];
            zingchart.render({
            id: 'BAfterRoundBarChart',
            data: {
            "type": "hbar",
            "stacked": true,
            "title": {
                "text": "Reduced Effective Vote Count  (Next Winner: Project C) ",
                "adjust-layout": true,
            },
            "legend": {
                "layout": "x4",
                "background-color": "none",
                "shadow": 0,
                "align": "center",
                "adjust-layout": true,
                "item": {
                    "font-color": "#333"
                },
                "marker": {
                    "type": "square",
                    "border-width": 0,
                    "size": 5
                },
                "toggle-action": "remove",
                "adjust-layout": true,
            },
            "plot": {
                "tooltip": {
                    "text": "%v votes"
                },
                "animation": {
                    "effect": "ANIMATION_SLIDE_BOTTOM",
                    "sequence": 1,
                    "speed": 1200
                }
            },
            "scale-x": {
                "labels": ['C', 'D', 'E'], // Label that identifies each project in the round
                "title": {
                    "text": "Projects"
                }
            },
            "scale-y": {
                "title": {
                    "text": "Votes"
                }
            },
            "series": [{
                "values":[ 
                    
                        14,
                    
                        20,
                    
                        4,
                    
                ], // Effective votes for next round
                "background-color": "#0070C0",
                "text": "Current Votes"
            }, {
                "values": [0, 18, 1], // Effective votes lost this round
                "background-color": "#FF0000",
                "text": "Previous Votes"
            }]
        },
            height: '100%',
            width: '100%'
        });
        </script>

        <!-- Sankey diagram -->
        <script>
            // Render Sankey Diagrams
            google.charts.load('current', {
            'packages': ['sankey']
        });
            google.charts.setOnLoadCallback(() => {
                    var data = new google.visualization.DataTable();
                    data.addColumn('string', 'From');
                    data.addColumn('string', 'To');
                    data.addColumn('number', 'Weight');
                    
                    // Adding data from render.py

                    data.addRows([
                        
                            
                                ['B', 'A', 7],
                            
                        
                            
                        
                            
                                ['B', 'C', 3],
                            
                        
                            
                                ['B', 'D', 9],
                            
                        
                            
                                ['B', 'E', 11],
                            
                            
                    ])

                    // Sets chart options.
                    var options = {
                        title: 'Project Vote Sankey Diagram',
                        width: 445,
                        height: 280,
                        sankey: {}
                    };

                    // Instantiates and draws our chart, passing in some options.
                    var chart = new google.visualization.Sankey(document.getElementById('BSankeyChart'));
                    chart.draw(data, options);
            });
        </script>
        <!-- List of Pie Chart Carousels -->
        
            

            <!-- Pie Chart Carousel -->
            
                <!-- Pie Chart -->
                <script>
                    //   ZC.LICENSE = ["569d52cefae586f634c54f86dc99e6a9", "b55b025e438fa8a98e32482b5f768ff5"];
                    var myConfig = {
                        "type": "pie",
                        "title": {
                            "text": "Project C Voters"
                        },
                        "legend": {
                            "toggle-action": "remove",
                            "toggle-action": "remove",
                            "layout": "x2", // Arrange the legend items horizontally
                            "align": "center", // Align the legend items in the center
                            "vertical-align": "bottom",
                        },
                        "plot": {
                            "valueBox": {
                                "visible": true, // Make value labels visible
                                "type": 'all', // Show all value text including percentages and absolute values
                                "placement": 'in', // Position the valueBox outside of the slice
                                "text": "%v", // Display the absolute value
                                "fontSize": 10 // Adjust font size as needed
                            },
                            "animation": {
                                "effect": "ANIMATION_EXPAND_VERTICAL",
                                "sequence": "ANIMATION_BY_PLOT",
                                "speed": 500
                            }
                        },
                        "series": [{
                            "values": [30],
                            "text": "Project B Voters",
                        }, {
                            "values": [20],
                            "text": "Non Project B Voters",
                        }]
                    };

                    zingchart.render({
                        id: 'BPieChart1-1',
                        data: myConfig,
                        height: 300,
                        width: "100%"
                    });
                </script>
            
                <!-- Pie Chart -->
                <script>
                    //   ZC.LICENSE = ["569d52cefae586f634c54f86dc99e6a9", "b55b025e438fa8a98e32482b5f768ff5"];
                    var myConfig = {
                        "type": "pie",
                        "title": {
                            "text": "Project D Voters"
                        },
                        "legend": {
                            "toggle-action": "remove",
                            "toggle-action": "remove",
                            "layout": "x2", // Arrange the legend items horizontally
                            "align": "center", // Align the legend items in the center
                            "vertical-align": "bottom",
                        },
                        "plot": {
                            "valueBox": {
                                "visible": true, // Make value labels visible
                                "type": 'all', // Show all value text including percentages and absolute values
                                "placement": 'in', // Position the valueBox outside of the slice
                                "text": "%v", // Display the absolute value
                                "fontSize": 10 // Adjust font size as needed
                            },
                            "animation": {
                                "effect": "ANIMATION_EXPAND_VERTICAL",
                                "sequence": "ANIMATION_BY_PLOT",
                                "speed": 500
                            }
                        },
                        "series": [{
                            "values": [6],
                            "text": "Project B Voters",
                        }, {
                            "values": [48],
                            "text": "Non Project B Voters",
                        }]
                    };

                    zingchart.render({
                        id: 'BPieChart1-2',
                        data: myConfig,
                        height: 300,
                        width: "100%"
                    });
                </script>
            
                <!-- Pie Chart -->
                <script>
                    //   ZC.LICENSE = ["569d52cefae586f634c54f86dc99e6a9", "b55b025e438fa8a98e32482b5f768ff5"];
                    var myConfig = {
                        "type": "pie",
                        "title": {
                            "text": "Project E Voters"
                        },
                        "legend": {
                            "toggle-action": "remove",
                            "toggle-action": "remove",
                            "layout": "x2", // Arrange the legend items horizontally
                            "align": "center", // Align the legend items in the center
                            "vertical-align": "bottom",
                        },
                        "plot": {
                            "valueBox": {
                                "visible": true, // Make value labels visible
                                "type": 'all', // Show all value text including percentages and absolute values
                                "placement": 'in', // Position the valueBox outside of the slice
                                "text": "%v", // Display the absolute value
                                "fontSize": 10 // Adjust font size as needed
                            },
                            "animation": {
                                "effect": "ANIMATION_EXPAND_VERTICAL",
                                "sequence": "ANIMATION_BY_PLOT",
                                "speed": 500
                            }
                        },
                        "series": [{
                            "values": [42],
                            "text": "Project B Voters",
                        }, {
                            "values": [8],
                            "text": "Non Project B Voters",
                        }]
                    };

                    zingchart.render({
                        id: 'BPieChart1-3',
                        data: myConfig,
                        height: 300,
                        width: "100%"
                    });
                </script>
            
        
    
        <!-- Chord chart -->
        <script>
            //   ZC.LICENSE = ["569d52cefae586f634c54f86dc99e6a9", "b55b025e438fa8a98e32482b5f768ff5"];
            zingchart.render({
                  id: 'CChordChart',
                  data: {
                     "type": "chord",
                     // "title": {
                     //     "text": "Project Relationships",
                     //     "offset-y": -10
                     //     // "adjust-layout": true,
                     // },
                     "options": {
                        "radius": "80%"
                     },
                     "plotarea": {
                        "margin": "dynamic"
                     },
                     "series": [
                     
                        {"values":[
                        
                            10,
                        
                            7,
                        
                            23,
                        
                            3,
                        
                            10,
                        
                        ],
                        "text": "A"
                        },
                     
                        {"values":[
                        
                            7,
                        
                            21,
                        
                            3,
                        
                            9,
                        
                            11,
                        
                        ],
                        "text": "B"
                        },
                     
                        {"values":[
                        
                            3,
                        
                            1,
                        
                            2,
                        
                            4,
                        
                            1,
                        
                        ],
                        "text": "C"
                        },
                     
                        {"values":[
                        
                            5,
                        
                            3,
                        
                            3,
                        
                            5,
                        
                            10,
                        
                        ],
                        "text": "D"
                        },
                     
                        {"values":[
                        
                            1,
                        
                            1,
                        
                            1,
                        
                            1,
                        
                            1,
                        
                        ],
                        "text": "E"
                        },
                     
                      ]
                  },
                  height: "60%",
                  width: "100%",
               });
        </script>
        <!-- Effective vote count bar chart -->
        <script>
                //   ZC.LICENSE = ["569d52cefae586f634c54f86dc99e6a9", "b55b025e438fa8a98e32482b5f768ff5"];
               zingchart.render({
                  id: 'CBarChart',
                  data: {
                  "type": "hbar",
                  "title": {
                     "text": "Effective Vote Count (Winner: Project C)"
                  },
                  "scale-x": {
                    
                     "labels": ['C', 'D', 'E'], // Label that identifies each project in the round
                     "title": {
                        "text": "Project"
                     },
                     "item": { // Explicitly control the appearance of the scale labels
                        "font-size": 14, // Adjust font size as needed
                        "offset-x": 0, // Adjust to move the label left or right if needed
                        "offset-y": 0 // Adjust to move the label up or down if needed
                     }
                  },
                  "scale-y": {
                     "title": {
                        "text": "Number of Votes"
                     }
                  },
                  "series": [{
                     "values": [14, 2, 3], // Current votes values
                  }, ],
                  "plot": {
                     "animation": {
                        "effect": "ANIMATION_SLIDE_BOTTOM",
                        "sequence": "ANIMATION_BY_PLOT_AND_NODE",
                        "speed": 800
                     }
                  }
            },
                  height: '100%',
                  width: '100%'
            });
        </script>
        <!-- Effective vote count reduction bar chart -->
        <script>
            // ZC.LICENSE = ["569d52cefae586f634c54f86dc99e6a9", "b55b025e438fa8a98e32482b5f768ff5"];
            zingchart.render({
            id: 'CAfterRoundBarChart',
            data: {
            "type": "hbar",
            "stacked": true,
            "title": {
                "text": "Reduced Effective Vote Count ",
                "adjust-layout": true,
            },
            "legend": {
                "layout": "x4",
                "background-color": "none",
                "shadow": 0,
                "align": "center",
                "adjust-layout": true,
                "item": {
                    "font-color": "#333"
                },
                "marker": {
                    "type": "square",
                    "border-width": 0,
                    "size": 5
                },
                "toggle-action": "remove",
                "adjust-layout": true,
            },
            "plot": {
                "tooltip": {
                    "text": "%v votes"
                },
                "animation": {
                    "effect": "ANIMATION_SLIDE_BOTTOM",
                    "sequence": 1,
                    "speed": 1200
                }
            },
            "scale-x": {
                "labels": ['D', 'E'], // Label that identifies each project in the round
                "title": {
                    "text": "Projects"
                }
            },
            "scale-y": {
                "title": {
                    "text": "Votes"
                }
            },
            "series": [{
                "values":[ 
                    
                        2,
                    
                        3,
                    
                ], // Effective votes for next round
                "background-color": "#0070C0",
                "text": "Current Votes"
            }, {
                "values": [0, 0], // Effective votes lost this round
                "background-color": "#FF0000",
                "text": "Previous Votes"
            }]
        },
            height: '100%',
            width: '100%'
        });
        </script>

        <!-- Sankey diagram -->
        <script>
            // Render Sankey Diagrams
            google.charts.load('current', {
            'packages': ['sankey']
        });
            google.charts.setOnLoadCallback(() => {
                    var data = new google.visualization.DataTable();
                    data.addColumn('string', 'From');
                    data.addColumn('string', 'To');
                    data.addColumn('number', 'Weight');
                    
                    // Adding data from render.py

                    data.addRows([
                        
                            
                                ['C', 'A', 3],
                            
                        
                            
                                ['C', 'B', 1],
                            
                        
                            
                        
                            
                                ['C', 'D', 4],
                            
                        
                            
                                ['C', 'E', 1],
                            
                            
                    ])

                    // Sets chart options.
                    var options = {
                        title: 'Project Vote Sankey Diagram',
                        width: 445,
                        height: 280,
                        sankey: {}
                    };

                    // Instantiates and draws our chart, passing in some options.
                    var chart = new google.visualization.Sankey(document.getElementById('CSankeyChart'));
                    chart.draw(data, options);
            });
        </script>
        <!-- List of Pie Chart Carousels -->
        
            

            <!-- Pie Chart Carousel -->
            
                <!-- Pie Chart -->
                <script>
                    //   ZC.LICENSE = ["569d52cefae586f634c54f86dc99e6a9", "b55b025e438fa8a98e32482b5f768ff5"];
                    var myConfig = {
                        "type": "pie",
                        "title": {
                            "text": "Project D Voters"
                        },
                        "legend": {
                            "toggle-action": "remove",
                            "toggle-action": "remove",
                            "layout": "x2", // Arrange the legend items horizontally
                            "align": "center", // Align the legend items in the center
                            "vertical-align": "bottom",
                        },
                        "plot": {
                            "valueBox": {
                                "visible": true, // Make value labels visible
                                "type": 'all', // Show all value text including percentages and absolute values
                                "placement": 'in', // Position the valueBox outside of the slice
                                "text": "%v", // Display the absolute value
                                "fontSize": 10 // Adjust font size as needed
                            },
                            "animation": {
                                "effect": "ANIMATION_EXPAND_VERTICAL",
                                "sequence": "ANIMATION_BY_PLOT",
                                "speed": 500
                            }
                        },
                        "series": [{
                            "values": [7],
                            "text": "Project C Voters",
                        }, {
                            "values": [7],
                            "text": "Non Project C Voters",
                        }]
                    };

                    zingchart.render({
                        id: 'CPieChart1-1',
                        data: myConfig,
                        height: 300,
                        width: "100%"
                    });
                </script>
            
                <!-- Pie Chart -->
                <script>
                    //   ZC.LICENSE = ["569d52cefae586f634c54f86dc99e6a9", "b55b025e438fa8a98e32482b5f768ff5"];
                    var myConfig = {
                        "type": "pie",
                        "title": {
                            "text": "Project E Voters"
                        },
                        "legend": {
                            "toggle-action": "remove",
                            "toggle-action": "remove",
                            "layout": "x2", // Arrange the legend items horizontally
                            "align": "center", // Align the legend items in the center
                            "vertical-align": "bottom",
                        },
                        "plot": {
                            "valueBox": {
                                "visible": true, // Make value labels visible
                                "type": 'all', // Show all value text including percentages and absolute values
                                "placement": 'in', // Position the valueBox outside of the slice
                                "text": "%v", // Display the absolute value
                                "fontSize": 10 // Adjust font size as needed
                            },
                            "animation": {
                                "effect": "ANIMATION_EXPAND_VERTICAL",
                                "sequence": "ANIMATION_BY_PLOT",
                                "speed": 500
                            }
                        },
                        "series": [{
                            "values": [4],
                            "text": "Project C Voters",
                        }, {
                            "values": [10],
                            "text": "Non Project C Voters",
                        }]
                    };

                    zingchart.render({
                        id: 'CPieChart1-2',
                        data: myConfig,
                        height: 300,
                        width: "100%"
                    });
                </script>
            
        
    

    


    
</body>
</html>